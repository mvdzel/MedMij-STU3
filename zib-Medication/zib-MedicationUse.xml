<?xml version="1.0" encoding="utf-8"?>
<?xml-model href="http://hl7.org/fhir/STU3/structuredefinition.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<StructureDefinition xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir http://hl7.org/fhir/STU3/structuredefinition.xsd">
  <id value="afbab416-6564-471c-92c0-7baeb20e2dd6" />
  <meta>
    <versionId value="8" />
    <lastUpdated value="2017-08-30T16:11:16.442+02:00" />
  </meta>
  <url value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse" />
  <name value="ZIB-Medication-Use" />
  <title value="ZIB Medication Use" />
  <status value="draft" />
  <date value="2016-12-12T16:43:00.948+00:00" />
  <publisher value="Nictiz" />
  <contact>
    <name value="Nictiz" />
    <telecom>
      <system value="email" />
      <value value="info@nictiz.nl" />
      <use value="work" />
    </telecom>
  </contact>
  <description value="This profile is based the Dutch Clinical Building Block (Dutch: Zorginformatiebouwsteen or ZIB)  nl.zorg.MedicatieGebruik version 1.0, year 2017.&#xD;&#xA;&#xD;&#xA;MedicationUse is a statement on the historic, current or intended use of a certain medicine." />
  <purpose value="The goal of the medication use is to provide insight into the patient’s pattern of use." />
  <copyright value="CC0" />
  <fhirVersion value="3.0.0" />
  <mapping>
    <identity value="zib-Medicatiegebruik" />
    <uri value="urn:oid:2.16.840.1.113883.2.4.3.11.60.20.77.2.3" />
    <name value="Zorginformatiebouwsteen Medicatiegebruik" />
  </mapping>
  <kind value="resource" />
  <abstract value="false" />
  <type value="MedicationStatement" />
  <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationStatement" />
  <derivation value="constraint" />
  <differential>
    <element id="MedicationStatement">
      <path value="MedicationStatement" />
      <short value="MedicationUse" />
      <definition value="MedicationUse is a statement on the historic, current or intended use of a certain medicine." />
      <alias value="Medicatiegebruik" />
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.21338" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension">
      <path value="MedicationStatement.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator">
      <path value="MedicationStatement.extension" />
      <sliceName value="asAgreedIndicator" />
      <short value="AsAgreedIndicator" />
      <definition value="Is the medicine used as outlined in the medication agreement?" />
      <alias value="VolgensAfspraakIndicator" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-AsAgreedIndicator" />
      </type>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22492" />
      </mapping>
    </element>
    <element id="MedicationStatement.extension:asAgreedIndicator.valueBoolean:valueBoolean">
      <path value="MedicationStatement.extension.valueBoolean" />
      <sliceName value="valueBoolean" />
      <example>
        <label value="Example of asAgreed" />
        <valueBoolean value="true" />
      </example>
    </element>
    <element id="MedicationStatement.extension:prescriber">
      <path value="MedicationStatement.extension" />
      <sliceName value="prescriber" />
      <short value="Prescriber" />
      <alias value="Voorschrijver" />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://hl7.org/fhir/StructureDefinition/medicationstatement-Prescriber" />
      </type>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.23290" />
      </mapping>
    </element>
    <element id="MedicationStatement.status">
      <path value="MedicationStatement.status" />
      <comment value="MedicationStatement is a statement at a point in time.  The status is only representative at the point when it was asserted.  The value set for MedicationStatement.status contains codes that assert the status of the use of the medication by the patient (for example, stopped or on hold) as well as codes that assert the status of the medication statement itself (for example, entered in error).&#xA;&#xA;This element is labeled as a modifier because the status contains codes that mark the resource as not currently valid.&#xD;&#xA;&#xD;&#xA;This element is also used for the concept 'Stop type'; the manner in which this medication is discontinued (temporary or definitive). " />
      <alias value="Stoptype" />
      <alias value="MedicationUseStopType" />
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.23132" />
      </mapping>
    </element>
    <element id="MedicationStatement.medication[x]">
      <path value="MedicationStatement.medication[x]" />
      <short value="ProductUsed" />
      <type>
        <code value="CodeableConcept" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://nictiz.nl/fhir/StructureDefinition/zib-Product" /> </type>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.21339" />
      </mapping>
    </element>
    <element id="MedicationStatement.effectivePeriod:effectivePeriod">
      <path value="MedicationStatement.effectivePeriod" />
      <sliceName value="effectivePeriod" />
      <short value="PeriodOfUse" />
      <definition value="Start date: This is the time at which the agreement was to take effect (or took effect or will take effect). &#xD;&#xA;Duration: The intended duration of use. E.g. 5 days or 8 weeks. It is not allowed to indicate the duration in months, because different months have a variable duration in days. &#xD;&#xA;End date: The time at which the period of use ends (or ended or will end). To avoid confusion between 'to' and 'up to', the submission of time is always mandatory for the end date." />
      <alias value="Gebruiksperiode" />
      <type>
        <code value="Period" />
      </type>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22663" />
      </mapping>
    </element>
    <element id="MedicationStatement.effective[x]:effectivePeriod.extension">
      <path value="MedicationStatement.effectivePeriod.extension" />
      <slicing>
        <discriminator>
          <type value="value" />
          <path value="url" />
        </discriminator>
        <rules value="open" />
      </slicing>
    </element>
    <element id="MedicationStatement.effectivePeriod:effectivePeriod.extension:Duration">
      <path value="MedicationStatement.effectivePeriod.extension" />
      <sliceName value="Duration" />
      <definition value="The intended duration of use. E.g. 5 days or 8 weeks. It is not allowed to indicate the duration in months, because different months have a variable duration in days. " />
      <max value="1" />
      <type>
        <code value="Extension" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationUse-Duration" />
      </type>
    </element>
    <element id="MedicationStatement.effectivePeriod:effectivePeriod.extension:Duration.valueDuration:valueDuration">
      <path value="MedicationStatement.effectivePeriod.extension.valueDuration" />
      <sliceName value="valueDuration" />
      <example>
        <label value="Example of Duration" />
        <valueDuration>
          <value value="3" />
          <unit value="day" />
          <system value="http://unitsofmeasure.org" />
          <code value="d" />
        </valueDuration>
      </example>
    </element>
    <element id="MedicationStatement.effectivePeriod:effectivePeriod.start">
      <path value="MedicationStatement.effectivePeriod.start" />
      <short value="StartDate" />
      <alias value="Ingangsdatum" />
    </element>
    <element id="MedicationStatement.effectivePeriod:effectivePeriod.end">
      <path value="MedicationStatement.effectivePeriod.end" />
      <short value="EndDate" />
      <alias value="Einddatum" />
    </element>
    <element id="MedicationStatement.dateAsserted">
      <path value="MedicationStatement.dateAsserted" />
      <short value="MedicationUseDateTime" />
      <definition value="Date on which this use is entered." />
      <alias value="Registratiedatum" />
      <min value="1" />
      <example>
        <label value="Example of MedicationUseDateTime" />
        <valueDateTime value="2017-06-14" />
      </example>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22398" />
      </mapping>
    </element>
    <element id="MedicationStatement.informationSource">
      <path value="MedicationStatement.informationSource" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.nl/fhir/StructureDefinition/nl-core-patient" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.nl/fhir/StructureDefinition/nl-core-practitioner" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.nl/fhir/StructureDefinition/nl-core-relatedperson" />
      </type>
      <type>
        <code value="Reference" />
        <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization" />
      </type>
    </element>
    <element id="MedicationStatement.subject">
      <path value="MedicationStatement.subject" />
      <type>
        <code value="Reference" />
        <targetProfile value="http://fhir.nl/fhir/StructureDefinition/nl-core-patient" />
      </type>
    </element>
    <element id="MedicationStatement.taken">
      <path value="MedicationStatement.taken" />
      <short value="UseIndicator" />
      <definition value="Is this medicine used or not?" />
      <alias value="GebruikIndicator" />
      <example>
        <label value="Example of taken" />
        <valueCode value="y" />
      </example>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22399" />
      </mapping>
    </element>
    <element id="MedicationStatement.reasonNotTaken">
      <path value="MedicationStatement.reasonNotTaken" />
      <short value="ReasonForChangeOrDiscontinuationOfUse " />
      <definition value="Reason for changing or discontinuing use of medication." />
      <alias value="Reden wijzigen gebruik" />
      <alias value="Reden stoppen gebruik" />
      <alias value="RedenWijzigenOfStoppenGebruik" />
      <example>
        <label value="Example of ReasonForChangeOrDiscontinuationOfUse" />
        <valueCodeableConcept>
          <coding>
            <system value="urn:oid:2.16.840.1.113883.6.96"/>
            <code value="79899007" />
            <display value="Drug interaction (disorder)" />
          </coding>
        </valueCodeableConcept>
      </example>
      <binding>
        <strength value="extensible" />
        <description value="RedenMedicatieafspraak" />
        <valueSetReference>
          <reference value="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.11.2--20170824000000" />
          <display value="RedenMedicatieafspraak" />
        </valueSetReference>
      </binding>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22493" />
      </mapping>
    </element>
    <element id="MedicationStatement.reasonCode.text">
      <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable">
        <valueBoolean value="true" />
      </extension>
      <path value="MedicationStatement.reasonCode.text" />
      <short value="ReasonForUse" />
      <definition value="The reason for using the medication, particularly in self-care medicine purchased by the patient themselves." />
      <alias value="RedenGebruik" />
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22491" />
      </mapping>
    </element>
    <element id="MedicationStatement.note">
      <path value="MedicationStatement.note" />
      <short value="Comment" />
      <definition value="Comments on the medication use." />
      <alias value="Toelichting" />
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.21624" />
      </mapping>
    </element>
    <element id="MedicationStatement.dosage">
      <path value="MedicationStatement.dosage" />
      <type>
        <code value="Dosage" />
        <profile value="http://nictiz.nl/fhir/StructureDefinition/zib-InstructionsForUse" />
      </type>
      <mapping>
        <identity value="zib-Medicatiegebruik" />
        <map value="NL-CM:9.11.22504" />
      </mapping>
    </element>
  </differential>
</StructureDefinition>